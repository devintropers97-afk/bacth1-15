ðŸ”· BATCH 1: CORE FOUNDATION & DATABASE SETUP
Priority: CRITICAL | Files: ~50 | Duration: Saya test 2 hari
ðŸ“‚ File Structure:
/
â”œâ”€â”€ .env.example                    # Template environment variables
â”œâ”€â”€ .htaccess                       # Security + URL rewriting + CORS
â”œâ”€â”€ index.php                       # Main entry point dengan routing
â”œâ”€â”€ composer.json                   # Dependencies (PHPMailer, etc)
â”‚
â”œâ”€â”€ /config/
â”‚   â”œâ”€â”€ database.php               # PDO connection dengan .env
â”‚   â”œâ”€â”€ app.php                    # App constants & settings
â”‚   â”œâ”€â”€ mail.php                   # SMTP configuration
â”‚   â”œâ”€â”€ constants.php              # Global constants (ROLES, STATUS, etc)
â”‚   â””â”€â”€ routes.php                 # URL routing rules
â”‚
â”œâ”€â”€ /core/
â”‚   â”œâ”€â”€ Database.php               # PDO wrapper class dengan connection pooling
â”‚   â”œâ”€â”€ Model.php                  # Base Model (CRUD operations)
â”‚   â”œâ”€â”€ Controller.php             # Base Controller
â”‚   â”œâ”€â”€ Router.php                 # URL Router dengan middleware support
â”‚   â”œâ”€â”€ Session.php                # Session management (secure, httponly)
â”‚   â”œâ”€â”€ Auth.php                   # Authentication & Authorization
â”‚   â”œâ”€â”€ Validator.php              # Input validation class
â”‚   â”œâ”€â”€ Sanitizer.php              # XSS & SQL injection prevention
â”‚   â”œâ”€â”€ Upload.php                 # File upload handler (images, docs)
â”‚   â”œâ”€â”€ Paginator.php              # Pagination helper
â”‚   â”œâ”€â”€ Mailer.php                 # Email sender (PHPMailer wrapper)
â”‚   â”œâ”€â”€ Response.php               # JSON/HTML response handler
â”‚   â””â”€â”€ Logger.php                 # Error & activity logging
â”‚
â”œâ”€â”€ /helpers/
â”‚   â”œâ”€â”€ common.php                 # Common functions (redirect, asset, etc)
â”‚   â”œâ”€â”€ formatting.php             # Format helpers (currency, date, phone)
â”‚   â”œâ”€â”€ pricing.php                # Price calculation logic
â”‚   â”œâ”€â”€ commission.php             # Commission calculation (cascade)
â”‚   â”œâ”€â”€ validation.php             # Validation rules & messages
â”‚   â”œâ”€â”€ security.php               # CSRF token, password hash, etc
â”‚   â””â”€â”€ email.php                  # Email template helpers
â”‚
â”œâ”€â”€ /middleware/
â”‚   â”œâ”€â”€ AuthMiddleware.php         # Check if user logged in
â”‚   â”œâ”€â”€ RoleMiddleware.php         # Check user role permissions
â”‚   â”œâ”€â”€ CSRFMiddleware.php         # CSRF protection
â”‚   â””â”€â”€ RateLimitMiddleware.php    # Rate limiting (login attempts)
â”‚
â””â”€â”€ /database/
    â”œâ”€â”€ schema.sql                 # Complete 100+ tables schema
    â”œâ”€â”€ seed_categories.sql        # 53 categories data
    â”œâ”€â”€ seed_services.sql          # 232+ services data
    â”œâ”€â”€ seed_settings.sql          # Default settings
    â”œâ”€â”€ seed_admin.sql             # Default admin account
    â””â”€â”€ seed_website_types.sql     # 1500+ website types
ðŸ—„ï¸ Database Tables (100+ Tables - ALL CREATED):
User Management (15 tables):
sql1. users (id, username, email, password, role, status, etc)
2. user_roles (5 roles: admin, manager, spv, partner, client)
3. user_permissions (granular permissions)
4. user_profiles (bio, address, phone, etc)
5. user_sessions (active sessions tracking)
6. user_login_history (login attempts, IP, device)
7. user_notifications (in-app notifications)
8. user_preferences (language, timezone, theme)
9. user_bank_accounts (for withdrawals)
10. user_documents (KTP, NPWP, selfie verification)
11. password_resets (reset tokens)
12. email_verifications (verification tokens)
13. two_factor_auth (2FA secrets for admin)
14. user_addresses (multiple addresses)
15. user_activity_logs (all user actions)
Partner System (25 tables):
sql16. partners (partner data, tier, total orders, ARPU)
17. partner_tiers (Tier 1-MAX configurations)
18. partner_referrals (tracking referral links)
19. partner_commissions (commission records)
20. partner_commission_history (historical data)
21. partner_withdrawals (withdrawal requests)
22. partner_withdrawal_history (completed withdrawals)
23. partner_hierarchies (SPV â†’ Partner, Manager â†’ SPV)
24. spv_users (SPV-specific data)
25. manager_users (Manager-specific data)
26. spv_bonuses (ARPU bonus tier 1-4)
27. manager_bonuses (ARPU bonus tier 1-4)
28. partner_earnings (all earning sources)
29. partner_penalties (late delivery, quality issues)
30. partner_performance (monthly metrics)
31. partner_kpi (targets vs actual)
32. partner_tracking_links (click tracking)
33. partner_jobs (job board system)
34. partner_job_applications (partner applies to jobs)
35. partner_job_submissions (work submissions)
36. partner_job_reviews (admin reviews)
37. partner_leaderboard (top performers)
38. partner_badges (achievements, certifications)
39. partner_referral_tree (multi-level visualization)
40. partner_payout_schedule (automatic payout settings)
Client System (20 tables):
sql41. clients (client data, referred_by_partner_id)
42. client_orders (all orders)
43. client_order_items (order line items)
44. client_order_status_history (status timeline)
45. client_payments (payment records)
46. client_payment_methods (saved payment info)
47. client_invoices (invoice generation)
48. client_subscriptions (recurring payments)
49. client_subscription_history (payment history)
50. client_websites (owned websites)
51. client_website_edits (edit request tracking)
52. client_support_tickets (help desk)
53. client_support_messages (ticket replies)
54. client_reviews (service reviews)
55. client_testimonials (approved testimonials)
56. client_refunds (refund requests)
57. client_loyalty_points (reward system - BONUS!)
58. client_referrals (client refer client - BONUS!)
59. client_custom_dashboards (premium client access)
60. client_analytics (website performance metrics)
Services & Products (15 tables):
sql61. business_categories (53 main categories)
62. business_subcategories (sub-categories)
63. services (232+ services)
64. service_categories (service grouping)
65. service_packages (bundling 6 packages)
66. service_addons (additional features)
67. service_pricing (dynamic pricing rules)
68. service_features (included features)
69. website_types (1500+ auto-generated types)
70. website_templates (reusable templates)
71. pricing_tiers (tier-based pricing)
72. discount_codes (promo codes)
73. service_faqs (per-service FAQs)
74. service_reviews (client reviews)
75. popular_services (trending services)
Content & Marketing (10 tables):
sql76. pages (static pages: about, terms, privacy)
77. blog_posts (blog content)
78. blog_categories (blog organization)
79. blog_tags (post tags)
80. post_comments (user comments)
81. portfolios (showcase work)
82. portfolio_images (gallery)
83. testimonials (client feedback)
84. faqs (general FAQs)
85. contact_messages (contact form submissions)
Demo System (5 tables):
sql86. demos (50 demo websites)
87. demo_categories (demo organization)
88. demo_requests (client demo requests)
89. demo_analytics (views, clicks per demo)
90. demo_feedback (demo ratings)
System & Settings (15+ tables):
sql91. settings (global settings)
92. languages (id, en)
93. translations (multi-language strings)
94. email_templates (14+ email types)
95. email_queue (outgoing email queue)
96. email_logs (sent email history)
97. sms_queue (future SMS - BONUS!)
98. notifications (system notifications)
99. notification_templates (notification formats)
100. activity_logs (system-wide activity)
101. error_logs (error tracking)
102. api_logs (API call tracking - BONUS!)
103. backup_logs (database backups)
104. cron_jobs (scheduled tasks)
105. system_maintenance (maintenance mode)
106. file_uploads (uploaded files metadata)
107. media_library (image/video management - BONUS!)
108. webhooks (webhook integrations - BONUS!)
```

#### **ðŸŽ¨ Assets Created:**
```
/assets/
â”œâ”€â”€ /css/
â”‚   â”œâ”€â”€ variables.css              # CSS custom properties
â”‚   â”œâ”€â”€ reset.css                  # CSS reset
â”‚   â”œâ”€â”€ typography.css             # Font styles
â”‚   â”œâ”€â”€ layout.css                 # Grid & flexbox
â”‚   â”œâ”€â”€ components.css             # Buttons, cards, forms
â”‚   â”œâ”€â”€ animations.css             # Transitions & animations
â”‚   â””â”€â”€ responsive.css             # Media queries
â”‚
â”œâ”€â”€ /js/
â”‚   â”œâ”€â”€ app.js                     # Main JS initialization
â”‚   â”œâ”€â”€ network-animation.js       # Canvas particle animation
â”‚   â”œâ”€â”€ circuit-pattern.js         # Circuit background
â”‚   â”œâ”€â”€ smooth-scroll.js           # GSAP smooth scroll
â”‚   â”œâ”€â”€ aos-init.js                # AOS scroll animations
â”‚   â”œâ”€â”€ form-validation.js         # Client-side validation
â”‚   â””â”€â”€ utils.js                   # Helper functions
â”‚
â””â”€â”€ /images/
    â”œâ”€â”€ /logo/
    â”‚   â”œâ”€â”€ logo.svg               # Main logo
    â”‚   â”œâ”€â”€ logo-white.svg         # White variant
    â”‚   â””â”€â”€ favicon.ico            # Favicon
    â”œâ”€â”€ /icons/                    # Custom icons
    â””â”€â”€ /placeholders/             # Placeholder images
```

#### **âœ… Features Completed:**
- âœ… Complete 100+ database tables with relationships
- âœ… Secure PDO database connection with prepared statements
- âœ… MVC architecture foundation
- âœ… Authentication & authorization framework
- âœ… CSRF protection system
- âœ… Rate limiting (login attempts, API calls)
- âœ… Input validation & sanitization
- âœ… File upload security
- âœ… Email system foundation (PHPMailer)
- âœ… Error & activity logging
- âœ… Session management (secure, httponly)
- âœ… Network particle animation (Canvas)
- âœ… Circuit pattern background
- âœ… Responsive CSS framework
- âœ… 53 categories pre-populated
- âœ… 232+ services pre-populated
- âœ… 1500+ website types auto-generated
- âœ… Default admin account created

#### **ðŸ§ª Testing Checklist:**
- [ ] Database connects successfully
- [ ] All 100+ tables created without errors
- [ ] Seed data imported correctly
- [ ] .htaccess URL rewriting works
- [ ] CSRF tokens generated
- [ ] Session starts properly
- [ ] Error logging functional
- [ ] Network animation renders
- [ ] Responsive layout works (mobile/desktop)

#### **ðŸ“¦ Deliverables:**
- âœ… ZIP file: `situneo-batch-1-foundation.zip`
- âœ… Database SQL: `situneo-complete-schema.sql`
- âœ… Seed Data SQL: `situneo-seed-data.sql`
- âœ… README: `BATCH-1-INSTALLATION.md`
- âœ… Changelog: `BATCH-1-CHANGELOG.md`

---

### **ðŸ”· BATCH 2: AUTHENTICATION SYSTEM**
**Priority: CRITICAL | Files: ~45 | Duration: Test 2-3 hari**

#### **ðŸ“‚ Files to Create:**
```
/auth/
â”œâ”€â”€ login.php                      # Login page (admin, client, partner)
â”œâ”€â”€ register-client.php            # Client registration
â”œâ”€â”€ register-partner.php           # Partner registration (approval needed)
â”œâ”€â”€ logout.php                     # Logout handler
â”œâ”€â”€ forgot-password.php            # Password reset request
â”œâ”€â”€ reset-password.php             # Password reset form
â”œâ”€â”€ verify-email.php               # Email verification
â”œâ”€â”€ resend-verification.php        # Resend verification email
â””â”€â”€ two-factor-auth.php            # 2FA setup (admin only)

/controllers/
â”œâ”€â”€ AuthController.php             # Handle all auth logic
â”œâ”€â”€ LoginController.php            # Login processing
â”œâ”€â”€ RegisterController.php         # Registration processing
â”œâ”€â”€ PasswordController.php         # Password reset logic
â””â”€â”€ VerificationController.php     # Email verification

/models/
â”œâ”€â”€ User.php                       # User model
â”œâ”€â”€ Partner.php                    # Partner model
â”œâ”€â”€ Client.php                     # Client model
â”œâ”€â”€ Session.php                    # Session model
â””â”€â”€ LoginAttempt.php               # Login attempt tracking

/views/auth/
â”œâ”€â”€ login.view.php                 # Login view template
â”œâ”€â”€ register-client.view.php       # Client registration view
â”œâ”€â”€ register-partner.view.php      # Partner registration view
â”œâ”€â”€ forgot-password.view.php       # Forgot password view
â”œâ”€â”€ reset-password.view.php        # Reset password view
â”œâ”€â”€ verify-email.view.php          # Verification view
â””â”€â”€ two-factor.view.php            # 2FA setup view

/emails/
â”œâ”€â”€ welcome-client.php             # Welcome email (client)
â”œâ”€â”€ welcome-partner.php            # Welcome email (partner)
â”œâ”€â”€ partner-approval-pending.php   # Partner awaiting approval
â”œâ”€â”€ partner-approved.php           # Partner approved
â”œâ”€â”€ partner-rejected.php           # Partner rejected
â”œâ”€â”€ email-verification.php         # Verification email
â”œâ”€â”€ password-reset.php             # Password reset email
â””â”€â”€ login-alert.php                # New login notification

/includes/components/
â”œâ”€â”€ alert.php                      # Alert component
â”œâ”€â”€ form-input.php                 # Form input component
â”œâ”€â”€ form-error.php                 # Error message component
â””â”€â”€ loading-spinner.php            # Loading animation

/admin/partners/
â”œâ”€â”€ pending-approval.php           # Pending partner approvals
â””â”€â”€ approve-partner.php            # Approve/reject partner
```

#### **âœ… Features Completed:**
- âœ… **Login System**:
  - Multi-role login (admin, manager, spv, partner, client)
  - Remember me functionality
  - Rate limiting (5 attempts per 15 minutes)
  - IP & device tracking
  - Session hijacking protection
  
- âœ… **Registration**:
  - Client: Hybrid (direct OR via referral link)
  - Partner: Requires admin approval
  - Custom referral username validation
  - Email verification required
  - Password strength validation (min 8 char, uppercase, number, symbol)
  
- âœ… **Password Management**:
  - Forgot password with email token
  - Secure password reset
  - Password history (prevent reuse)
  - Bcrypt hashing with salt
  
- âœ… **Security**:
  - CAPTCHA on login/register (Google reCAPTCHA v3)
  - CSRF protection on all forms
  - SQL injection prevention
  - XSS prevention
  - Session fixation protection
  - Brute force protection
  
- âœ… **2FA** (Admin only):
  - Google Authenticator compatible
  - Backup codes generation
  - Recovery options
  
- âœ… **Email Notifications**:
  - Welcome emails (client & partner)
  - Email verification
  - Password reset
  - Partner approval/rejection
  - Login from new device alert

#### **ðŸ§ª Testing Checklist:**
- [ ] Client can register direct (without referral)
- [ ] Client can register via partner referral link
- [ ] Partner registration creates pending approval
- [ ] Admin can approve/reject partners
- [ ] Email verification works
- [ ] Password reset functional
- [ ] Rate limiting blocks brute force
- [ ] CAPTCHA validates
- [ ] 2FA works for admin
- [ ] Remember me persists session
- [ ] All emails send successfully

---

### **ðŸ”· BATCH 3: CLIENT DASHBOARD (PRIORITY!)**
**Priority: HIGH | Files: ~60 | Duration: Test 3-4 hari**

#### **ðŸ“‚ Files to Create:**
```
/client/
â”œâ”€â”€ dashboard.php                  # Main dashboard (stats, recent orders)
â”œâ”€â”€ /orders/
â”‚   â”œâ”€â”€ index.php                 # Order list (all, pending, completed)
â”‚   â”œâ”€â”€ create.php                # Create new order (service selection)
â”‚   â”œâ”€â”€ create-step-2.php         # Order details & customization
â”‚   â”œâ”€â”€ create-step-3.php         # Review & confirm
â”‚   â”œâ”€â”€ detail.php                # Order detail page
â”‚   â”œâ”€â”€ tracking.php              # Order status tracking
â”‚   â”œâ”€â”€ cancel.php                # Cancel order request
â”‚   â””â”€â”€ history.php               # Order history
â”‚
â”œâ”€â”€ /payments/
â”‚   â”œâ”€â”€ index.php                 # Payment list
â”‚   â”œâ”€â”€ pay.php                   # Payment page (bank/QRIS)
â”‚   â”œâ”€â”€ upload-proof.php          # Upload payment proof
â”‚   â”œâ”€â”€ invoice.php               # View/download invoice
â”‚   â”œâ”€â”€ history.php               # Payment history
â”‚   â””â”€â”€ methods.php               # Saved payment methods
â”‚
â”œâ”€â”€ /websites/
â”‚   â”œâ”€â”€ index.php                 # My websites list
â”‚   â”œâ”€â”€ detail.php                # Website detail & analytics
â”‚   â”œâ”€â”€ request-edit.php          # Request minor edit
â”‚   â”œâ”€â”€ custom-dashboard.php      # Premium client dashboard (>5jt)
â”‚   â””â”€â”€ renew-subscription.php    # Renew subscription
â”‚
â”œâ”€â”€ /support/
â”‚   â”œâ”€â”€ index.php                 # Support tickets list
â”‚   â”œâ”€â”€ create.php                # Create new ticket
â”‚   â”œâ”€â”€ detail.php                # Ticket conversation
â”‚   â””â”€â”€ close.php                 # Close ticket
â”‚
â”œâ”€â”€ /profile/
â”‚   â”œâ”€â”€ index.php                 # Profile overview
â”‚   â”œâ”€â”€ edit.php                  # Edit profile
â”‚   â”œâ”€â”€ change-password.php       # Change password
â”‚   â”œâ”€â”€ bank-accounts.php         # Bank accounts (future)
â”‚   â”œâ”€â”€ addresses.php             # Saved addresses
â”‚   â”œâ”€â”€ preferences.php           # Language, notifications
â”‚   â””â”€â”€ documents.php             # Upload KTP, NPWP
â”‚
â”œâ”€â”€ /loyalty/                      # ðŸ†• BONUS FEATURE!
â”‚   â”œâ”€â”€ points.php                # Loyalty points balance
â”‚   â”œâ”€â”€ rewards.php               # Redeem rewards
â”‚   â””â”€â”€ history.php               # Points history
â”‚
â””â”€â”€ /referrals/                    # ðŸ†• BONUS FEATURE!
    â”œâ”€â”€ index.php                 # Client refer client program
    â”œâ”€â”€ referral-link.php         # Get referral link
    â””â”€â”€ earnings.php              # Referral earnings

/controllers/client/
â”œâ”€â”€ DashboardController.php
â”œâ”€â”€ OrderController.php
â”œâ”€â”€ PaymentController.php
â”œâ”€â”€ WebsiteController.php
â”œâ”€â”€ SupportController.php
â”œâ”€â”€ ProfileController.php
â”œâ”€â”€ LoyaltyController.php         # ðŸ†• BONUS!
â””â”€â”€ ReferralController.php        # ðŸ†• BONUS!

/models/
â”œâ”€â”€ Order.php
â”œâ”€â”€ OrderItem.php
â”œâ”€â”€ Payment.php
â”œâ”€â”€ Invoice.php
â”œâ”€â”€ Subscription.php
â”œâ”€â”€ Website.php
â”œâ”€â”€ SupportTicket.php
â”œâ”€â”€ TicketMessage.php
â”œâ”€â”€ LoyaltyPoint.php              # ðŸ†• BONUS!
â””â”€â”€ ClientReferral.php            # ðŸ†• BONUS!

/includes/client/
â”œâ”€â”€ header.php                    # Client dashboard header
â”œâ”€â”€ sidebar.php                   # Client sidebar navigation
â”œâ”€â”€ footer.php                    # Client dashboard footer
â””â”€â”€ breadcrumb.php                # Breadcrumb navigation

/assets/css/
â”œâ”€â”€ client-dashboard.css          # Client-specific styles
â””â”€â”€ client-responsive.css         # Client mobile styles

/assets/js/
â”œâ”€â”€ client-dashboard.js           # Client dashboard scripts
â”œâ”€â”€ order-calculator.js           # Real-time price calculator
â”œâ”€â”€ payment-upload.js             # Payment proof uploader
â””â”€â”€ chart-client.js               # Client analytics charts
âœ… Features Completed:
Dashboard:

âœ… Real-time stats (total orders, active subscriptions, spent)
âœ… Recent orders timeline
âœ… Payment reminders
âœ… Quick actions (new order, pay invoice, support)
âœ… Notifications center

Order System:

âœ… Multi-step order creation:

Step 1: Select category & service
Step 2: Customize (pages, features, addons)
Step 3: Review & confirm


âœ… Real-time price calculator
âœ… Order tracking (pending â†’ paid â†’ in progress â†’ completed)
âœ… Order status timeline visualization
âœ… Cancel order (before payment)
âœ… Referral code input (optional)
âœ… One-time vs Subscription toggle

Payment System:

âœ… Payment methods:

Bank Transfer (manual upload proof)
QRIS (upload screenshot)


âœ… Upload payment proof with validation
âœ… Invoice generation (PDF download)
âœ… Payment status (pending â†’ verified â†’ failed)
âœ… Payment reminders (email + in-app)
âœ… Payment history with filters

Website Management:

âœ… View all owned websites
âœ… Website analytics (visits, conversions - basic)
âœ… Request minor edits (text, images)
âœ… Renew subscription (for sewa bulanan)
âœ… Premium dashboard access (orders >5jt)

Support System:

âœ… Create support ticket
âœ… Ticket categories (technical, billing, general)
âœ… Ticket priority (low, medium, high)
âœ… Real-time conversation (like chat)
âœ… File attachments (screenshots, docs)
âœ… Auto-reply on ticket creation
âœ… Email notifications on replies

ðŸ†• BONUS Features:

âœ… Loyalty Points:

Earn points per order
Redeem for discounts
Points expiry tracking


âœ… Client Referral Program:

Client can refer other clients
Get discount/cashback on referral
Referral tracking dashboard



ðŸ§ª Testing Checklist:

 Dashboard loads with correct stats
 Can create order (3 steps)
 Price calculator works real-time
 Can upload payment proof
 Invoice generates correctly
 Order status updates
 Can request minor edits
 Support tickets functional
 Email notifications sent
 Premium dashboard (>5jt) accessible
 Loyalty points accumulate
 Referral link generates

