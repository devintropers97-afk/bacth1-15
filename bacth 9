ðŸ”· BATCH 9: ADMIN PANEL - WITHDRAWAL & JOB BOARD MANAGEMENT
Priority: HIGH | Files: ~45 | Duration: Test 2-3 hari
ðŸ“‚ Files to Create:
/admin/
â”œâ”€â”€ /withdrawals/
â”‚   â”œâ”€â”€ index.php                 # All withdrawal requests
â”‚   â”œâ”€â”€ pending.php               # Pending approvals â­
â”‚   â”œâ”€â”€ approve-withdrawal.php    # Approve withdrawal â­
â”‚   â”œâ”€â”€ reject-withdrawal.php     # Reject withdrawal
â”‚   â”œâ”€â”€ processing.php            # Processing withdrawals
â”‚   â”œâ”€â”€ completed.php             # Completed withdrawals
â”‚   â”œâ”€â”€ view.php                  # Withdrawal detail
â”‚   â”œâ”€â”€ upload-proof.php          # Upload transfer proof â­
â”‚   â”œâ”€â”€ bulk-approve.php          # Bulk approve (batch payments)
â”‚   â”œâ”€â”€ statistics.php            # Withdrawal statistics
â”‚   â”œâ”€â”€ export.php                # Export withdrawal data
â”‚   â””â”€â”€ payment-schedule.php      # Schedule batch payments
â”‚
â”œâ”€â”€ /jobs/                         # Job Board for Partners
â”‚   â”œâ”€â”€ index.php                 # All jobs
â”‚   â”œâ”€â”€ create.php                # Create new job â­
â”‚   â”œâ”€â”€ edit.php                  # Edit job
â”‚   â”œâ”€â”€ delete.php                # Delete job
â”‚   â”œâ”€â”€ view.php                  # Job detail & applications
â”‚   â”œâ”€â”€ applications.php          # All applications for a job
â”‚   â”œâ”€â”€ approve-application.php   # Approve partner for job
â”‚   â”œâ”€â”€ reject-application.php    # Reject application
â”‚   â”œâ”€â”€ submissions.php           # Work submissions
â”‚   â”œâ”€â”€ review-submission.php     # Review submitted work
â”‚   â”œâ”€â”€ approve-submission.php    # Approve & pay partner
â”‚   â”œâ”€â”€ reject-submission.php     # Reject & request revision
â”‚   â”œâ”€â”€ active-jobs.php           # Jobs in progress
â”‚   â”œâ”€â”€ completed-jobs.php        # Completed jobs
â”‚   â”œâ”€â”€ statistics.php            # Job board analytics
â”‚   â””â”€â”€ templates.php             # Job templates (pre-fill forms)
â”‚
â”œâ”€â”€ /commissions/
â”‚   â”œâ”€â”€ index.php                 # All commissions
â”‚   â”œâ”€â”€ pending.php               # Pending commissions
â”‚   â”œâ”€â”€ paid.php                  # Paid commissions
â”‚   â”œâ”€â”€ calculate.php             # Manual commission calculation
â”‚   â”œâ”€â”€ adjust.php                # Adjust commission (corrections)
â”‚   â”œâ”€â”€ reverse.php               # Reverse commission (refunds)
â”‚   â”œâ”€â”€ tier-management.php       # Manage tier percentages
â”‚   â”œâ”€â”€ bonus-tiers.php           # Manage SPV/Manager bonus tiers
â”‚   â”œâ”€â”€ statistics.php            # Commission analytics
â”‚   â”œâ”€â”€ reconciliation.php        # Commission reconciliation tool
â”‚   â””â”€â”€ export.php                # Export commission data
â”‚
â”œâ”€â”€ /penalties/
â”‚   â”œâ”€â”€ index.php                 # All penalties
â”‚   â”œâ”€â”€ subscription-stops.php    # Auto-deduct penalties
â”‚   â”œâ”€â”€ late-deliveries.php       # Late job delivery penalties
â”‚   â”œâ”€â”€ quality-issues.php        # Quality-based penalties
â”‚   â”œâ”€â”€ apply-penalty.php         # Manual penalty application
â”‚   â”œâ”€â”€ remove-penalty.php        # Remove penalty (admin discretion)
â”‚   â”œâ”€â”€ appeals.php               # Penalty appeals from partners
â”‚   â”œâ”€â”€ approve-appeal.php        # Approve appeal (waive penalty)
â”‚   â”œâ”€â”€ reject-appeal.php         # Reject appeal
â”‚   â””â”€â”€ statistics.php            # Penalty statistics
â”‚
â””â”€â”€ /bonus-distribution/          # SPV & Manager Bonuses
    â”œâ”€â”€ spv-bonuses.php           # SPV bonus tracker
    â”œâ”€â”€ manager-bonuses.php       # Manager bonus tracker
    â”œâ”€â”€ calculate-arpu.php        # Calculate ARPU monthly
    â”œâ”€â”€ distribute-bonuses.php    # Distribute bonuses
    â”œâ”€â”€ bonus-history.php         # Bonus payment history
    â””â”€â”€ bonus-settings.php        # Configure bonus tiers

/controllers/admin/
â”œâ”€â”€ WithdrawalController.php
â”œâ”€â”€ JobBoardController.php
â”œâ”€â”€ CommissionController.php
â”œâ”€â”€ PenaltyController.php
â””â”€â”€ BonusController.php

/models/
â”œâ”€â”€ WithdrawalManagement.php
â”œâ”€â”€ JobManagement.php
â”œâ”€â”€ JobApplication.php
â”œâ”€â”€ JobSubmission.php
â”œâ”€â”€ CommissionManagement.php
â”œâ”€â”€ PenaltyManagement.php
â”œâ”€â”€ BonusDistribution.php
â””â”€â”€ ARPU.php

/emails/admin/
â”œâ”€â”€ withdrawal-requested.php      # Notify admin of new withdrawal
â”œâ”€â”€ job-application.php           # Notify admin of new application
â”œâ”€â”€ job-submitted.php             # Notify admin of work submission
â””â”€â”€ penalty-appeal.php            # Notify admin of penalty appeal

/emails/partner/
â”œâ”€â”€ withdrawal-rejected.php       # Withdrawal rejection notice
â”œâ”€â”€ job-approved.php              # Job application approved
â”œâ”€â”€ job-rejected.php              # Job application rejected
â”œâ”€â”€ submission-approved.php       # Work approved & paid
â”œâ”€â”€ submission-rejected.php       # Work needs revision
â”œâ”€â”€ penalty-applied.php           # Penalty notice
â”œâ”€â”€ appeal-approved.php           # Appeal approved
â”œâ”€â”€ appeal-rejected.php           # Appeal rejected
â””â”€â”€ bonus-earned.php              # Bonus payment notice

/cron/
â”œâ”€â”€ process-withdrawals.php       # Auto-process approved withdrawals
â”œâ”€â”€ calculate-monthly-arpu.php    # Monthly ARPU calculation
â”œâ”€â”€ distribute-bonuses.php        # Quarterly bonus distribution
â””â”€â”€ job-deadline-reminders.php    # Send deadline reminders to partners
âœ… Features Completed:
Withdrawal Management:

âœ… Pending Withdrawal Approvals:

List all pending withdrawal requests
Display partner info
Display withdrawal amount
Display bank account/QRIS details
Display current balance
Display available balance (after withdrawal)


âœ… Approve Withdrawal Process:

  1. Admin reviews withdrawal request
  2. Admin clicks "Approve"
  3. System checks partner balance (must be sufficient)
  4. System marks withdrawal as "Approved"
  5. System creates payout record
  6. Admin transfers money manually
  7. Admin uploads transfer proof (screenshot/receipt)
  8. System marks withdrawal as "Completed"
  9. System deducts amount from partner balance
  10. Email notification sent to partner

âœ… Reject Withdrawal:

Provide rejection reason
Return withdrawal to partner (can re-request)
Email notification with reason


âœ… Upload Transfer Proof:

Upload bank transfer receipt
Upload QRIS transfer screenshot
Attach notes/comments
Timestamp tracking


âœ… Batch Payments:

Select multiple pending withdrawals
Approve all at once
Generate batch payment list
Export to CSV for bank upload
Bulk upload transfer proofs


âœ… Withdrawal Statistics:

Total withdrawals (today, this month, all time)
Average withdrawal amount
Processing time metrics
Pending vs completed ratio
Top withdrawing partners


âœ… Payment Schedule:

Schedule automatic payout dates (e.g., every Monday)
Auto-approve withdrawals on schedule
Email reminders to admin



Job Board Management:

âœ… Create Job (Admin Posts Task):

Job title
Description (detailed requirements)
Category (website dev, content, design, etc)
Deadline (number of days)
Commission amount (fixed payment)
Required skills/experience
Number of partners needed (1 or multiple)
Attachments (briefs, assets, reference files)
Priority (low, medium, high)


âœ… Job Broadcast:

Auto-broadcast to all eligible partners (via dashboard notification)
Email notification to partners
WhatsApp notification (optional)
Filter recipients by tier, performance, skills


âœ… View Job Applications:

List all partners who applied
View partner profile & stats
View partner proposal/message
View partner portfolio/past work
Compare applicants side-by-side


âœ… Approve Partner for Job:

Select partner(s) for job
If multiple partners needed:

Assign roles (lead, support)
Split commission (custom or auto)


Send job assignment email
Start deadline countdown
Job status: "In Progress"


âœ… Reject Application:

Provide reason (optional)
Send rejection email


âœ… Review Work Submission:

Partner submits completed work
Admin reviews submission
View submitted files/links
View partner notes
Check quality & requirements


âœ… Approve Submission (Pay Partner):

  1. Admin approves work
  2. System calculates payment:
     - Base commission
     - Check deadline:
       - On time: Full payment
       - Late 1-3 days: Warning (full payment)
       - Late 4-7 days: -10% penalty
       - Late >7 days: -25% penalty
     - If multiple partners: Split as configured
  3. Add commission to partner balance
  4. Send payment confirmation email
  5. Job status: "Completed"
  6. Log in job earnings history

âœ… Reject Submission (Request Revision):

Provide detailed feedback
Set revision deadline
Send revision request email
Track revision attempts


âœ… Job Templates:

Save frequent jobs as templates
Pre-fill job creation form
Quick job posting


âœ… Job Statistics:

Total jobs posted
Completion rate
Average completion time
Partner performance on jobs
Most popular job types



Commission Management:

âœ… Commission Overview:

Total commissions paid (all time)
Pending commissions
Paid commissions
Commission breakdown by role (Partner/SPV/Manager)


âœ… Manual Commission Calculation:

Recalculate commission for specific order
Fix calculation errors
Adjust commission amount
Add manual commission (bonus, compensation)


âœ… Reverse Commission:

Reverse on refund
Reverse on cancellation
Reverse on subscription stop (<3 months)
Automatic cascade reversal


âœ… Tier Management:

Configure tier thresholds (orders per month)
Configure tier percentages (30%, 40%, 50%, 55%)
Edit tier benefits
Tier maintenance rules


âœ… Bonus Tier Configuration:

SPV Bonus Tiers:

Tier 1: ARPU Rp 15jt â†’ Bonus Rp 500K
Tier 2: ARPU Rp 35jt â†’ Bonus Rp 1jt
Tier 3: ARPU Rp 75jt â†’ Bonus Rp 2jt
Tier 4: ARPU Rp 200jt+ â†’ Bonus Rp 10jt


Manager Bonus Tiers:

Tier 1: ARPU Rp 45jt â†’ Bonus Rp 1jt
Tier 2: ARPU Rp 105jt â†’ Bonus Rp 2jt
Tier 3: ARPU Rp 225jt â†’ Bonus Rp 3jt
Tier 4: ARPU Rp 600jt+ â†’ Bonus Rp 15jt




âœ… Commission Reconciliation:

Compare calculated vs paid commissions
Identify discrepancies
Auto-fix or manual review
Generate reconciliation report


âœ… Commission Export:

Export commission data (CSV, Excel, PDF)
Tax report generation (NPWP-based)
Custom date range export



Penalty Management:

âœ… Subscription Stop Penalties:

View all auto-deducted penalties
Penalty amount & date
Partner affected
Cascade distribution (SPV 10%, Manager 5%)
Reversal option (admin discretion)


âœ… Late Delivery Penalties:

Job board late penalties
Automatic percentage deduction
Warning tracking (multiple lates = blacklist)


âœ… Quality Issue Penalties:

Admin can apply manual penalty
Provide reason
Set penalty amount
Send penalty notice to partner


âœ… Penalty Appeals:

Partner submits appeal
Admin reviews appeal
View partner's explanation
Approve appeal (waive penalty, refund deduction)
Reject appeal (penalty stands)


âœ… Penalty Statistics:

Total penalties applied
Most common penalty types
Partners with most penalties
Penalty trend over time



Bonus Distribution (SPV & Manager):

âœ… Monthly ARPU Calculation:

Cron job runs on 1st of every month
Calculate ARPU for each SPV:



    SPV ARPU = Total revenue from downline partners / Number of downline partners

Calculate ARPU for each Manager:

    Manager ARPU = Total revenue from region (SPVs + Partners) / Number of partners in region

âœ… Bonus Distribution:

Check ARPU against bonus tiers
Determine bonus amount
Add bonus to SPV/Manager balance
Send bonus earned email
Log bonus payment


âœ… Bonus History:

View all bonus payments
Filter by SPV/Manager
Filter by month/year
Export bonus data


âœ… Bonus Settings:

Configure bonus tiers (amounts & thresholds)
Set distribution frequency (monthly, quarterly)
Enable/disable bonus program
Bonus eligibility rules



ðŸ§ª Testing Checklist:

 Withdrawal approval works
 Transfer proof upload works
 Withdrawal rejection sends email
 Batch payment processing works
 Balance deducted on completion
 Can create job posting
 Job broadcast to partners works
 Can approve job application
 Partner can submit work
 Can approve submission
 Commission calculated correctly (with penalty if late)
 Can request revision
 Late penalty applies correctly
 Manual commission adjustment works
 Commission reversal works
 Tier configuration saves
 Bonus tiers configurable
 ARPU calculates monthly
 Bonus distributes correctly
 Penalty auto-deduct works
 Penalty appeal functional
 Appeal approval waives penalty
